<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Jam's Terminal Database</title>
<style>
  body {
    background-color: #253A4B;
    color: #fff;
    font-family: 'Courier New', Courier, monospace;
    margin: 0; padding: 20px;
  }
  .terminal {
    max-width: 800px;
    margin: auto;
  }
  input[type="text"] {
    width: 100%;
    font-size: 1.2em;
    padding: 10px;
    background: #1b2a3a;
    border: none;
    color: #fff;
    box-sizing: border-box;
    margin-bottom: 10px;
  }
  .category-btns {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    flex-wrap: wrap;
  }
  .category-btns button {
    background: none;
    border: none;
    color: #3399ff;
    font-weight: bold;
    cursor: pointer;
    padding: 8px 16px;
    border-radius: 4px;
    transition: background 0.2s;
  }
  .category-btns button.active,
  .category-btns button:hover {
    background: #3399ff;
    color: #253A4B;
  }
  details.dropdown {
    background: #1b2a3a;
    border-radius: 4px;
    margin-bottom: 10px;
  }
  details[open] > summary {
    background: #3399ff;
    color: #253A4B;
  }
  summary {
    cursor: pointer;
    padding: 10px 15px;
    font-weight: bold;
    list-style: none;
    user-select: none;
    outline: none;
  }
  ul {
    margin: 0; padding: 0 20px 10px 20px;
    list-style: none;
    font-size: 0.95em;
  }
  li {
    padding: 5px 0;
    cursor: default;
    border-bottom: 1px solid #2a4159;
  }
  li:last-child {
    border-bottom: none;
  }
  li:hover {
    background: #2a4159;
  }
  .description {
    margin-top: 5px;
    font-style: italic;
    color: #a3c4ffcc;
  }
  @media (max-width: 500px) {
    .category-btns button {
      flex: 1 1 100%;
      text-align: center;
    }
  }
</style>
</head>
<body>
<div class="terminal">
  <input type="text" id="searchInput" placeholder="Search..." onkeyup="filterData()" />
  <div class="category-btns">
    <button class="active" data-category="All" onclick="switchCategory(event)">All</button>
    <button data-category="Landmarks" onclick="switchCategory(event)">Landmarks</button>
    <button data-category="Characters" onclick="switchCategory(event)">Characters</button>
    <button data-category="Citizens" onclick="switchCategory(event)">Citizens</button>
  </div>
  <div id="output"></div>
</div>
<script>
  const data = {
    Landmarks: [
      { name: "Nulight (Prabha - Light)", resident: "Jam-Wise", description: "Serene village bathed in perpetual twilight, known for its bioluminescent flora and fauna. The village's centerpiece is the Lumina Tree, whose glowing branches light up the entire area.", symbol: "Firefly" },
      { name: "Marja’s Eye (Chandra - Moon)", resident: "Hoodie-Jam", description: "Town with reflective lakes, tranquil atmosphere, perfect for stargazing.", symbol: "Cat" },
      { name: "Surya Zero (Surya - Sun)", resident: "Prototype Zero", description: "Futuristic city powered by solar energy, home of Sunspire Tower.", symbol: "Dog" },
      { name: "Again (Agni - Fire)", resident: "The Inventor", description: "Lab city where creativity and energy abound, center is Ignis Core.", symbol: "Fire Salamander" },
      { name: "Bhalu’s Rest (Dhara - Earth)", resident: "Jamstone", description: "Village known for its stability and strength, surrounded by mountains.", symbol: "Bear" },
      { name: "Airpota (Vayu - Wind)", resident: "AirJam", description: "Town characterized by swift winds and open skies.", symbol: "Swift" },
      { name: "Apas Blue (Jala - Water)", resident: "Jamwave", description: "City known for its flowing rivers and adaptability.", symbol: "Dolphin" },
      { name: "Pratu’s Dawn (Udaya - Dawn)", resident: "Jamstar", description: "Village representing new beginnings and hope.", symbol: "Sunbird" }
    ],
    Characters: [
      { name: "Jam-Wise", associated: "Prabhasa (Light)", symbol: "Firefly", description: "Represents wisdom and enlightenment." },
      { name: "Hoodie-Jam", associated: "Soma (Moon)", symbol: "Cat", description: "Reflects introspection and subtlety." },
      { name: "Prototype Zero", associated: "Surya (Sun)", symbol: "Dog", description: "Symbolizes purity, power, and innocence." },
      { name: "The Inventor", associated: "Anala (Fire)", symbol: "Fire Salamander", description: "Represents creativity, energy, and transformation." },
      { name: "Jamstone", associated: "Dhara (Earth)", symbol: "Bear", description: "Symbolizes stability, strength, and grounding." },
      { name: "AirJam", associated: "Anila (Wind)", symbol: "Swift", description: "Symbolizes freedom and agility." },
      { name: "Jamwave", associated: "Apas (Water)", symbol: "Dolphin", description: "Symbolizes fluidity and depth." },
      { name: "Jamstar", associated: "Pratyusha (Dawn)", symbol: "Sunbird", description: "Represents new beginnings and hope." }
    ],
    Citizens: [
      { name: "Pijon Smith", role: "Hive Mind Pigeon", description: "Every pigeon on Jam's Planet combined, with a pink-haired human head and streetwear." },
      { name: "Spoon", role: "3-year-old Cavoodle", description: "Jam's little dog, super chill and fluffy." },
      { name: "Elaine", role: "Fiancé", description: "Jam's partner and home anchor." }
      // Add more citizens if you want
    ]
  };

  let currentCategory = 'All';

  function createItemElement(item, type) {
    const li = document.createElement('li');
    let content = `<strong>${item.name}</strong>`;
    if (type === 'Landmarks') {
      content += ` — Resident: ${item.resident}<br><span class="description">${item.description}</span>`;
    } else if (type === 'Characters') {
      content += ` — Associated: ${item.associated}<br><span class="description">${item.description}</span>`;
    } else if (type === 'Citizens') {
      content += ` — Role: ${item.role || 'N/A'}<br><span class="description">${item.description}</span>`;
    }
    li.innerHTML = content;
    return li;
  }

  function renderCategory(category) {
    const output = document.getElementById('output');
    output.innerHTML = '';

    if (category === 'All') {
      for (const cat in data) {
        const details = document.createElement('details');
        details.className = 'dropdown';
        details.open = true;
        const summary = document.createElement('summary');
        summary.textContent = cat;
        details.appendChild(summary);

        const ul = document.createElement('ul');
        data[cat].forEach(item => {
          ul.appendChild(createItemElement(item, cat));
        });
        details.appendChild(ul);
        output.appendChild(details);
      }
    } else {
      const details = document.createElement('details');
      details.className = 'dropdown';
      details.open = true;
      const summary = document.createElement('summary');
      summary.textContent = category;
      details.appendChild(summary);

      const ul = document.createElement('ul');
      data[category].forEach(item => {
        ul.appendChild(createItemElement(item, category));
      });
      details.appendChild(ul);
      output.appendChild(details);
    }
  }

  function switchCategory(e) {
    currentCategory = e.target.getAttribute('data-category');
    document.querySelectorAll('.category-btns button').forEach(btn => btn.classList.remove('active'));
    e.target.classList.add('active');
    document.getElementById('searchInput').value = '';
    renderCategory(currentCategory);
  }

  function filterData() {
    const searchTerm = document.getElementById('searchInput').value.toLowerCase();
    const output = document.getElementById('output');
    output.innerHTML = '';

    if (!searchTerm) {
      renderCategory(currentCategory);
      return;
    }

    // Search across all data, grouped by category
    for (const cat in data) {
      const filteredItems = data[cat].filter(item => {
        return Object.values(item).some(val => 
          val && val.toString().toLowerCase().includes(searchTerm)
        );
      });

      if (filteredItems.length) {
        const details = document.createElement('details');
        details.className = 'dropdown';
        details.open = true;
        const summary = document.createElement('summary');
        summary.textContent = cat;
        details.appendChild(summary);

        const ul = document.createElement('ul');
        filteredItems.forEach(item => {
          ul.appendChild(createItemElement(item, cat));
        });
        details.appendChild(ul);
        output.appendChild(details);
      }
    }
  }

  // Initial render
  renderCategory('All');
</script>
</body>
</html>
